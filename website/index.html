<!DOCTYPE html>
<html lang=en>

<head>
    <meta charset=utf-8>
    <meta name=viewport content='width=device-width, initial-scale=1'>
    <meta name=color-scheme content='dark light' />
    <link rel=icon type=image/svg+xml href=favicon.svg>
    <link rel=icon type=image/png sizes=192x192 href=favicon.png>
    <title>Checkswipe.js</title>

    <!-- nice styling for page (but it works without it! try deleting this css link to see what it looks like :) -->
    <link rel=stylesheet href=pico.classless.min.css>

    <!-- specific styling for this page -->
    <link rel=stylesheet href=the.style.css>

    <!-- some code for "is it really faster?" section -->
    <script defer src=you.lost.the.game.js></script>

    <!-- only things related to checkswipe -->
    <script defer src=checkswipe.js onload='checkswipe.nonce = "123abc"; checkswipe()'></script>
</head>

<body>
<header class=logo>
    <aside id=logo-demo aria-hidden=true>
        <div class=cb style='--delay: 0.6s;'></div>
        <div class=cb style='--delay: 1.75s;'></div>
        <div class=cb style='--delay: 1.85s;'></div>
        <svg class=cr width=12 height=18 viewBox='-1 -1 13 19' xmlns='http://www.w3.org/2000/svg'>
            <path d='M0,0 L0,16 L4,13 L7,18 L9,16 L7,12 L12,12 Z' fill=white stroke=black stroke-width=1 />
        </svg>
    </aside>
    <hgroup>
        <h1>Checkswipe.js <code class=version>v3.0</code></h1>
        <p><i>"Click-and-drag" over HTML checkboxes</i></p>
    </hgroup>
</header>

<article class=touchscreen-only>
    <header>⚠️ Touchscreen detected</header>
    <main>Checkswipe.js is designed for devices with a mouse cursor, and unfortunately does not work on touchscreens. Sorry!</main>
</article>

<main>
    <h2>Try it</h2>
    <p>"Click-and-drag" over the checkboxes to fastly toggle them.</p>

    <form>
        <fieldset data-checkswipe>
            <label><input type=checkbox name=one> Option 1</label>
            <label><input type=checkbox name=two> Option 2</label>
            <label><input type=checkbox name=three> Option 3</label>
            <label><input type=checkbox name=four> Option 4</label>
            <label><input type=checkbox name=five> Option 5</label>
        </fieldset>
        <small>Tip: right-click and select "Inspect element" to see what the markup looks like!</small>
    </form>

    <h2>Get it</h2>
    <p>Import the library with this line of code:</p>
    <pre><code>&lt;<span class=kw>script</span> <span class=attr>src</span>=<span class=v>/js/checkswipe.js</span> <span class=attr>defer</span> <span class=attr>onload</span>=<span class=fn>checkswipe</span>()&gt;&lt;/<span class=kw>script</span>&gt;</code></pre>
    <p>Add the attribute <code><span class=attr>data-checkswipe</span></code> to any group.</p>
    <pre><code>&lt;<span class=kw>fieldset</span> <mark><span class=attr>data-checkswipe</span></mark>&gt;<br>  &lt;<span class=kw>input</span> <span class=attr>type</span>=<span class=v>checkbox</span>&gt;<br>  &lt;<span class=kw>input</span> <span class=attr>type</span>=<span class=v>checkbox</span>&gt;<br>&lt;/<span class=kw>fieldset</span>&gt;</code></pre>
    <p>See the <a href=https://github.com/vladdeSV/checkswipe/releases/latest>latest release</a> and the <a href=https://github.com/vladdeSV/checkswipe>source code</a> on GitHub.</p>

    <h2>Test it</h2>
    <blockquote>
        Is it really faster?
        <footer>
            <cite>— You</cite>
        </footer>
    </blockquote>

    <p>Try it out for yourself – see how fast you can toggle all checkboxes.</p>
    <p>Timer starts on the <code>mousedown</code> event; stops when all checkboxes are checked.</p>

    <section class=playfield>
        <label>
            Difficulty
            <input type=range min=2 max=20 value=5 id=difficulty>
        </label>

        <div>
            <p>
                <strong>with Checkswipe.js</strong><br>
                <small>"click-and-drag"</small>
            </p>
            <form class=game>
                <fieldset data-checkswipe>
                    <label><input type=checkbox name=1> Option 1</label>
                    <label><input type=checkbox name=2> Option 2</label>
                    <label><input type=checkbox name=3> Option 3</label>
                    <label><input type=checkbox name=4> Option 4</label>
                    <label><input type=checkbox name=5> Option 5</label>
                </fieldset>
                <p><span data-timer data-best-display=–>–</span></p>
                <div class=reset>
                    <button type=reset>reset timer</button>
                </div>
            </form>
        </div>

        <div>
            <p>
                <strong>vanilla</strong><br>
                <small>click each box</small>
            </p>
            <form class=game>
                <fieldset>
                    <label><input type=checkbox name=1> Option 1</label>
                    <label><input type=checkbox name=2> Option 2</label>
                    <label><input type=checkbox name=3> Option 3</label>
                    <label><input type=checkbox name=4> Option 4</label>
                    <label><input type=checkbox name=5> Option 5</label>
                </fieldset>
                <p><span data-timer data-best-display=–>–</span></p>
                <div class=reset>
                    <button type=reset>reset timer</button>
                </div>
            </form>
        </div>
    </section>

    <h2>Use it</h2>
    <p>To enable Checkswipe.js on page load:</p>
    <ol>
        <li>add the attribute <code><span class=attr>data-checkswipe</span></code> to any element (preferably <code>&lt;<span class=kw>fieldset</span>&gt;</code>)</li>
        <li>after page has loaded, run <code><span class=fn>checkswipe</span>()</code></li>
    </ol>

    <aside>
        <p>Checkswipe.js can be manually applied to any element, or specific checkboxes:</p>
        <pre><code><span class=fn>checkswipe</span>()                <span class=comment>// all <span class=attr>[data-checkswipe]</span> on page</span><br><span class=fn>checkswipe</span>(group)           <span class=comment>// eg. checkswipe(myDiv)</span><br><span class=fn>checkswipe</span>(group, checkbox) <span class=comment>// eg. checkswipe(myDiv, checkbox)</span></code></pre>
    </aside>

    <h3>Content Security Policy</h3>
    <p>Checkswipe.js injects a <code>&lt;<span class=kw>style</span> <span class=attr>id</span>=<span class=v>checkswipe-injected</span>&gt;</code> into the document's <code>&lt;<span class=kw>head</span>&gt;</code> for animations. If your website has a restrictive <abbr title="content security policy">CSP</abbr>, you can either:</p>
    <ol style="list-style: lower-alpha;">
        <li>set a nonce before running the function<pre><code>&lt;<span class=kw>script</span> … <span class=attr>onload</span>=<span class=v>'</span><span class=fn>checkswipe</span>.nonce=<span class=v>"abc123"</span>;<span class=fn>checkswipe</span>()<span class=v>'</span>></code></pre></li>
        <li>manually copy-and-paste the styling and put it your own CSS files</li>
    </ol>

    <h2>Love it?</h2>
    <p>If this little project made you smile, send me a virtual coffee – it boosts my ego.</p>
    <p><a href=https://www.buymeacoffee.com/vladde><img src=buymeacoffee.png alt='Buy Me A Coffee' width=217 height=60></a></p>

    <h2>How it works</h2>
    <p><code><span class=fn>checkswipe</span>()</code> looks for every <code>&lt;<span class=kw><i>element</i></span>&gt;</code> with the attribute <code><span class=attr>data-checkswipe</span></code>, and attaches a listener to each checkbox inside.</p>
    <p>Each <code>&lt;<span class=kw><i>element</i></span>&gt;</code> is independent, and only checkboxes within them can be swiped.</p>
    <p>Intentionally only activates when pressing and dragging over checkboxes – does not affect labels and their text.</p>
    <p>Checkboxes growing larger is pure and simple CSS, and is not required – but recommended.</p>
    <p>Very self-contained. Only the group and its checkboxes within are affected. At worst, on a <code>mousedown</code> event, a temporary self-removing <code>mouseup</code> handler is applied to the page to detect when the user releases the mouse button.</p>
    <p>Note: Each <code>&lt;<span class=kw>input</span> <span class=attr>type</span>=<span class=v>checkbox</span>&gt;</code> gets event listeners – adding or replacing checkboxes requires to re-run code for those checkboxes.</p>

    <h2>Examples</h2>
    <p>These are some use-cases of Checkswipe.js.</p>

    <h3>Multiple groups</h3>
    <p>Groups can be used on the same page, and they will not interfere with each other.</p>
    <div class=sbs>
      <fieldset data-checkswipe>
        <legend>Group 1</legend>
        <label><input type=checkbox> Option 1</label>
        <label><input type=checkbox> Option 2</label>
        <label><input type=checkbox> Option 3</label>
      </fieldset>
      <fieldset data-checkswipe>
        <legend>Group 2</legend>
        <label><input type=checkbox> Option 1</label>
        <label><input type=checkbox> Option 2</label>
        <label><input type=checkbox> Option 3</label>
      </fieldset>
    </div>

    <h3>Only target specific checkboxes</h3>
    <p>Include the attribute <code><span class=attr>data-checkswipe-specify</span></code> on the group, and add the attribute <code><span class=attr>data-checkswipe-use</span></code> on the checkboxes you want to be swipeable, and the other checkboxes will remain untouched.</p>

    <fieldset data-checkswipe data-checkswipe-specify>
      <legend>Semi-swipeable checkboxes</legend>
      <label><input type=checkbox data-checkswipe-use> Option 1</label>
      <label><input type=checkbox data-checkswipe-use> Option 2</label>
      <label><input type=checkbox> Option 3 (non-swipeable)</label>
      <label><input type=checkbox data-checkswipe-use> Option 4</label>
      <label><input type=checkbox data-checkswipe-use> Option 5</label>
    </fieldset>

    <h4>Tables</h4>
    <p>Tables are a bit cumbersome since they do not follow a conventional "grouped" structure, but it's possible to only make checkboxes in certain columns swipeable.</p>
    <p>If you want to group different columns of checkboxes together, you unfortunately are out of luck.</p>

    <table data-checkswipe data-checkswipe-specify>
      <thead>
        <tr>
          <th>Swipeable</th>
          <th>Text</th>
          <th>Non-swipe 1</th>
          <th>Non-swipe 2</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type=checkbox data-checkswipe-use></td>
          <td>Foofoo</td>
          <td><input type=checkbox></td>
          <td></td>
        </tr>
        <tr>
          <td><input type=checkbox data-checkswipe-use></td>
          <td>Barbar</td>
          <td><input type=checkbox></td>
          <td><input type=checkbox></td>
        </tr>
        <tr>
          <td><input type=checkbox data-checkswipe-use></td>
          <td>Bazbaz</td>
          <td></td>
          <td><input type=checkbox></td>
        </tr>
      </tbody>
    </table>
</main>
</body>

</html>
